<?php

namespace App\Traits;
use Illuminate\Http\Request;
use App\Traits\SecertsTrait;

use GuzzleHttp\Client;
use Psr\Http\Message\ResponseInterface;
use GuzzleHttp\Exception\RequestException;

trait WeatherTrait {

  use SecertsTrait;

  /**
   * @param int $area_id
   * 
   */
  public function fetchAreaWeather($area_id,  $startDate = null) {
    if($area_id == 13856)
      return '{"location":{"id":13856,"name":"Mornington","region":"Mornington Peninsula","state":"VIC","postcode":"3931","timeZone":"Australia\/Melbourne","lat":-38.2191,"lng":145.0382,"typeId":14},"forecasts":{"weather":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 00:00:00","precisCode":"shower-or-two","precis":"Shower or two","precisOverlayCode":"","night":false,"min":8,"max":14}]}],"units":{"temperature":"c"},"issueDateTime":"2020-05-21 16:13:27"},"wind":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 00:00:00","speed":35.6,"direction":351,"directionText":"N"},{"dateTime":"2020-05-21 01:00:00","speed":34.9,"direction":288,"directionText":"WNW"},{"dateTime":"2020-05-21 02:00:00","speed":45.4,"direction":196,"directionText":"SSW"},{"dateTime":"2020-05-21 03:00:00","speed":31,"direction":185,"directionText":"S"},{"dateTime":"2020-05-21 04:00:00","speed":22.7,"direction":189,"directionText":"S"},{"dateTime":"2020-05-21 05:00:00","speed":25.2,"direction":194,"directionText":"SSW"},{"dateTime":"2020-05-21 06:00:00","speed":26.3,"direction":191,"directionText":"S"},{"dateTime":"2020-05-21 07:00:00","speed":31.7,"direction":189,"directionText":"S"},{"dateTime":"2020-05-21 08:00:00","speed":23.8,"direction":186,"directionText":"S"},{"dateTime":"2020-05-21 09:00:00","speed":25.2,"direction":194,"directionText":"SSW"},{"dateTime":"2020-05-21 10:00:00","speed":26.6,"direction":194,"directionText":"SSW"},{"dateTime":"2020-05-21 11:00:00","speed":24.5,"direction":196,"directionText":"SSW"},{"dateTime":"2020-05-21 12:00:00","speed":23,"direction":199,"directionText":"SSW"},{"dateTime":"2020-05-21 13:00:00","speed":22.7,"direction":199,"directionText":"SSW"},{"dateTime":"2020-05-21 14:00:00","speed":23.8,"direction":203,"directionText":"SSW"},{"dateTime":"2020-05-21 15:00:00","speed":24.8,"direction":204,"directionText":"SSW"},{"dateTime":"2020-05-21 16:00:00","speed":24.8,"direction":205,"directionText":"SSW"},{"dateTime":"2020-05-21 17:00:00","speed":24.8,"direction":208,"directionText":"SSW"},{"dateTime":"2020-05-21 18:00:00","speed":25.2,"direction":207,"directionText":"SSW"},{"dateTime":"2020-05-21 19:00:00","speed":25.2,"direction":206,"directionText":"SSW"},{"dateTime":"2020-05-21 20:00:00","speed":24.8,"direction":201,"directionText":"SSW"},{"dateTime":"2020-05-21 21:00:00","speed":24.5,"direction":200,"directionText":"SSW"},{"dateTime":"2020-05-21 22:00:00","speed":24.1,"direction":203,"directionText":"SSW"},{"dateTime":"2020-05-21 23:00:00","speed":20.9,"direction":206,"directionText":"SSW"}]}],"units":{"speed":"km\/h"},"issueDateTime":"2020-05-21 15:52:54","carousel":{"size":10,"start":3}},"tides":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 01:05:00","height":0.85,"type":"high"},{"dateTime":"2020-05-21 08:15:00","height":0.38,"type":"low"},{"dateTime":"2020-05-21 14:56:00","height":0.85,"type":"high"},{"dateTime":"2020-05-21 20:37:00","height":0.59,"type":"low"}]}],"units":{"height":"m"},"issueDateTime":"2020-05-21 16:06:38","carousel":{"size":1826,"start":1237}}},"observationalGraphs":{"pressure":{"dataConfig":{"series":{"config":{"id":"pressure","color":"#003355","lineWidth":2,"lineFill":false,"lineRenderer":"StraightLineRenderer","showPoints":false,"pointFormatter":"PressurePointFormatter"},"yAxisDataMin":1012,"yAxisDataMax":1018.3,"yAxisMin":980,"yAxisMax":1040,"groups":[{"dateTime":1590019200,"points":[{"x":1590019200,"y":1012.1},{"x":1590021000,"y":1012},{"x":1590022800,"y":1012.2},{"x":1590024600,"y":1012.2},{"x":1590026400,"y":1012.3},{"x":1590028200,"y":1012.3},{"x":1590030000,"y":1012.4},{"x":1590031800,"y":1012.2},{"x":1590033600,"y":1012.5},{"x":1590035400,"y":1013},{"x":1590037200,"y":1013.2},{"x":1590039000,"y":1013.5},{"x":1590040800,"y":1014},{"x":1590042600,"y":1014.4},{"x":1590044400,"y":1014.8},{"x":1590046200,"y":1015.3},{"x":1590048000,"y":1015.7},{"x":1590049800,"y":1016.1},{"x":1590051600,"y":1016.5},{"x":1590053400,"y":1016.7},{"x":1590055200,"y":1017},{"x":1590057000,"y":1017.3},{"x":1590058800,"y":1017.5},{"x":1590060600,"y":1017.5},{"x":1590062400,"y":1017.5},{"x":1590064200,"y":1017.4},{"x":1590066000,"y":1017.2},{"x":1590067800,"y":1017.2},{"x":1590069600,"y":1017.3},{"x":1590071400,"y":1017.5},{"x":1590073200,"y":1017.7},{"x":1590075000,"y":1017.6},{"x":1590076800,"y":1017.7},{"x":1590078600,"y":1018.1},{"x":1590080400,"y":1018.3}]}],"controlPoints":{"pre":{"x":1590015600,"y":1012.3},"post":null},"controlPoint":null},"xAxisMin":1590019200,"xAxisMax":1590191999},"carousel":{"size":3,"start":3},"units":{"pressure":"hpa"},"issueDateTime":"2020-05-21 07:00:00","provider":{"id":447,"name":"Cerberus","lat":-38.365,"lng":145.179,"distance":20,"units":{"distance":"km"}}},"temperature":{"dataConfig":{"series":{"config":{"id":"temperature","color":"#003355","lineWidth":2,"lineFill":false,"lineRenderer":"StraightLineRenderer","showPoints":false,"pointFormatter":"TemperaturePointFormatter"},"yAxisDataMin":9.7,"yAxisDataMax":13.7,"yAxisMin":0,"yAxisMax":20,"groups":[{"dateTime":1590019200,"points":[{"x":1590019200,"y":9.9},{"x":1590019800,"y":9.9},{"x":1590020400,"y":9.9},{"x":1590021000,"y":10},{"x":1590021600,"y":10},{"x":1590022200,"y":10.1},{"x":1590022800,"y":10.2},{"x":1590023400,"y":10.2},{"x":1590024000,"y":10.3},{"x":1590024600,"y":10.3},{"x":1590025200,"y":10.3},{"x":1590025800,"y":10.3},{"x":1590026400,"y":10.2},{"x":1590027000,"y":10.1},{"x":1590028200,"y":10.1},{"x":1590028800,"y":10.1},{"x":1590029400,"y":10},{"x":1590030000,"y":10.1},{"x":1590030600,"y":10.1},{"x":1590031200,"y":10.1},{"x":1590031800,"y":10.1},{"x":1590032400,"y":10.1},{"x":1590033000,"y":10.5},{"x":1590033600,"y":10.1},{"x":1590034200,"y":10.2},{"x":1590034800,"y":9.9},{"x":1590035400,"y":9.8},{"x":1590036000,"y":9.8},{"x":1590036600,"y":10},{"x":1590037200,"y":10.1},{"x":1590037800,"y":10.1},{"x":1590038400,"y":10.1},{"x":1590039000,"y":10.1},{"x":1590039600,"y":10.2},{"x":1590040200,"y":10.1},{"x":1590040800,"y":9.9},{"x":1590041400,"y":9.9},{"x":1590042000,"y":9.8},{"x":1590042600,"y":9.8},{"x":1590043200,"y":9.8},{"x":1590043800,"y":9.8},{"x":1590044400,"y":9.8},{"x":1590045000,"y":9.7},{"x":1590045600,"y":10.1},{"x":1590046200,"y":10.6},{"x":1590046800,"y":10.8},{"x":1590047400,"y":10.9},{"x":1590048000,"y":11},{"x":1590048600,"y":10.9},{"x":1590049200,"y":11.2},{"x":1590049800,"y":11.4},{"x":1590050400,"y":11.5},{"x":1590051000,"y":11.3},{"x":1590051600,"y":11.4},{"x":1590052200,"y":11.8},{"x":1590052800,"y":12.1},{"x":1590053400,"y":12},{"x":1590054000,"y":12.3},{"x":1590054600,"y":12},{"x":1590055200,"y":12.2},{"x":1590055800,"y":12.2},{"x":1590056400,"y":12.1},{"x":1590057000,"y":12.1},{"x":1590057600,"y":12.1},{"x":1590058200,"y":12.4},{"x":1590058800,"y":12.5},{"x":1590059400,"y":12.8},{"x":1590060000,"y":12.9},{"x":1590060600,"y":12.9},{"x":1590061200,"y":12.9},{"x":1590061800,"y":12.9},{"x":1590062400,"y":12.8},{"x":1590063000,"y":13.2},{"x":1590063600,"y":13},{"x":1590064200,"y":13.2},{"x":1590064800,"y":12.9},{"x":1590065400,"y":12.5},{"x":1590066000,"y":13.1},{"x":1590066600,"y":13},{"x":1590067200,"y":12.8},{"x":1590067800,"y":13},{"x":1590068400,"y":12.4},{"x":1590069000,"y":13.7},{"x":1590069600,"y":13.1},{"x":1590070200,"y":13.3},{"x":1590070800,"y":12.7},{"x":1590071400,"y":12.4},{"x":1590072000,"y":13.3},{"x":1590072600,"y":12.5},{"x":1590073200,"y":11.7},{"x":1590073800,"y":12.5},{"x":1590074400,"y":12.1},{"x":1590075000,"y":12.7},{"x":1590075600,"y":12.2},{"x":1590076200,"y":12.1},{"x":1590076800,"y":11.7},{"x":1590077400,"y":11.8},{"x":1590078000,"y":11.4},{"x":1590078600,"y":11.3},{"x":1590079200,"y":11.5},{"x":1590079800,"y":11.2},{"x":1590080400,"y":11.2},{"x":1590081000,"y":11.3}]}],"controlPoints":{"pre":{"x":1590015600,"y":10.4},"post":null},"controlPoint":null},"xAxisMin":1590019200,"xAxisMax":1590710399},"carousel":{"size":3,"start":3},"units":{"temperature":"c"},"issueDateTime":"2020-05-21 07:10:00","provider":{"id":447,"name":"Cerberus","lat":-38.365,"lng":145.179,"distance":20,"units":{"distance":"km"}}}}}';
    else if($area_id == 12383)
      return '{"location":{"id":12383,"name":"Jam Jerrup","region":"Gippsland","state":"VIC","postcode":"3984","timeZone":"Australia\/Melbourne","lat":-38.3243,"lng":145.5212,"typeId":14},"forecasts":{"weather":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 00:00:00","precisCode":"cloudy","precis":"Cloudy","precisOverlayCode":"","night":false,"min":7,"max":14}]}],"units":{"temperature":"c"},"issueDateTime":"2020-05-21 17:13:38"},"wind":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 00:00:00","speed":25.9,"direction":349,"directionText":"N"},{"dateTime":"2020-05-21 01:00:00","speed":24.1,"direction":346,"directionText":"NNW"},{"dateTime":"2020-05-21 02:00:00","speed":17.6,"direction":326,"directionText":"NW"},{"dateTime":"2020-05-21 03:00:00","speed":9.7,"direction":252,"directionText":"WSW"},{"dateTime":"2020-05-21 04:00:00","speed":12.6,"direction":214,"directionText":"SW"},{"dateTime":"2020-05-21 05:00:00","speed":10.4,"direction":83,"directionText":"E"},{"dateTime":"2020-05-21 06:00:00","speed":9,"direction":314,"directionText":"NW"},{"dateTime":"2020-05-21 07:00:00","speed":9.7,"direction":316,"directionText":"NW"},{"dateTime":"2020-05-21 08:00:00","speed":18.4,"direction":342,"directionText":"NNW"},{"dateTime":"2020-05-21 09:00:00","speed":11.9,"direction":79,"directionText":"E"},{"dateTime":"2020-05-21 10:00:00","speed":12.2,"direction":189,"directionText":"S"},{"dateTime":"2020-05-21 11:00:00","speed":22,"direction":196,"directionText":"SSW"},{"dateTime":"2020-05-21 12:00:00","speed":18,"direction":207,"directionText":"SSW"},{"dateTime":"2020-05-21 13:00:00","speed":20.2,"direction":213,"directionText":"SSW"},{"dateTime":"2020-05-21 14:00:00","speed":19.8,"direction":214,"directionText":"SW"},{"dateTime":"2020-05-21 15:00:00","speed":20.9,"direction":213,"directionText":"SSW"},{"dateTime":"2020-05-21 16:00:00","speed":18,"direction":211,"directionText":"SSW"},{"dateTime":"2020-05-21 17:00:00","speed":17.3,"direction":222,"directionText":"SW"},{"dateTime":"2020-05-21 18:00:00","speed":24.5,"direction":242,"directionText":"WSW"},{"dateTime":"2020-05-21 19:00:00","speed":13.7,"direction":272,"directionText":"W"},{"dateTime":"2020-05-21 20:00:00","speed":15.5,"direction":256,"directionText":"WSW"},{"dateTime":"2020-05-21 21:00:00","speed":13.3,"direction":240,"directionText":"WSW"},{"dateTime":"2020-05-21 22:00:00","speed":11.2,"direction":226,"directionText":"SW"},{"dateTime":"2020-05-21 23:00:00","speed":10.1,"direction":226,"directionText":"SW"}]}],"units":{"speed":"km\/h"},"issueDateTime":"2020-05-21 17:12:56","carousel":{"size":11,"start":3}},"tides":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 05:43:00","height":1.03,"type":"low"},{"dateTime":"2020-05-21 12:29:00","height":2.74,"type":"high"},{"dateTime":"2020-05-21 18:14:00","height":1.26,"type":"low"}]}],"units":{"height":"m"},"issueDateTime":"2020-05-21 17:19:00","carousel":{"size":1826,"start":1237}}},"observationalGraphs":{"pressure":{"dataConfig":{"series":{"config":{"id":"pressure","color":"#003355","lineWidth":2,"lineFill":false,"lineRenderer":"StraightLineRenderer","showPoints":false,"pointFormatter":"PressurePointFormatter"},"yAxisDataMin":1011.8,"yAxisDataMax":1018.2,"yAxisMin":980,"yAxisMax":1040,"groups":[{"dateTime":1590019200,"points":[{"x":1590019200,"y":1012.2},{"x":1590021000,"y":1011.8},{"x":1590022800,"y":1012.3},{"x":1590024600,"y":1012.2},{"x":1590026400,"y":1012.3},{"x":1590028200,"y":1012.3},{"x":1590030000,"y":1012.4},{"x":1590031800,"y":1012.4},{"x":1590033600,"y":1012.7},{"x":1590035400,"y":1013.1},{"x":1590037200,"y":1013.3},{"x":1590039000,"y":1013.6},{"x":1590040800,"y":1013.9},{"x":1590042600,"y":1014.4},{"x":1590044400,"y":1014.9},{"x":1590046200,"y":1015.2},{"x":1590048000,"y":1015.6},{"x":1590049800,"y":1016},{"x":1590051600,"y":1016.4},{"x":1590053400,"y":1016.8},{"x":1590055200,"y":1016.9},{"x":1590057000,"y":1017.2},{"x":1590058800,"y":1017.4},{"x":1590060600,"y":1017.5},{"x":1590062400,"y":1017.4},{"x":1590064200,"y":1017.3},{"x":1590066000,"y":1017.2},{"x":1590067800,"y":1017.2},{"x":1590069600,"y":1017.2},{"x":1590071400,"y":1017.4},{"x":1590073200,"y":1017.6},{"x":1590075000,"y":1017.5},{"x":1590076800,"y":1017.7},{"x":1590078600,"y":1018},{"x":1590080400,"y":1018.2}]}],"controlPoints":{"pre":{"x":1590015600,"y":1012.4},"post":null},"controlPoint":null},"xAxisMin":1590019200,"xAxisMax":1590191999},"carousel":{"size":3,"start":3},"units":{"pressure":"hpa"},"issueDateTime":"2020-05-21 07:00:00","provider":{"id":450,"name":"Rhyll","lat":-38.461,"lng":145.31,"distance":23.8,"units":{"distance":"km"}}},"temperature":{"dataConfig":{"series":{"config":{"id":"temperature","color":"#003355","lineWidth":2,"lineFill":false,"lineRenderer":"StraightLineRenderer","showPoints":false,"pointFormatter":"TemperaturePointFormatter"},"yAxisDataMin":9.9,"yAxisDataMax":13.4,"yAxisMin":0,"yAxisMax":20,"groups":[{"dateTime":1590019200,"points":[{"x":1590019200,"y":11},{"x":1590019800,"y":11},{"x":1590020400,"y":10.8},{"x":1590021000,"y":10.8},{"x":1590021600,"y":10.7},{"x":1590022200,"y":10.6},{"x":1590022800,"y":10.8},{"x":1590023400,"y":10.8},{"x":1590024000,"y":10.7},{"x":1590024600,"y":10.7},{"x":1590025200,"y":10.8},{"x":1590025800,"y":10.8},{"x":1590026400,"y":10.9},{"x":1590027000,"y":10.9},{"x":1590028200,"y":11},{"x":1590028800,"y":11},{"x":1590029400,"y":10.8},{"x":1590030000,"y":10.7},{"x":1590030600,"y":10.8},{"x":1590031200,"y":10.7},{"x":1590031800,"y":10.9},{"x":1590032400,"y":10.8},{"x":1590033000,"y":10.8},{"x":1590033600,"y":10.7},{"x":1590034200,"y":10.7},{"x":1590034800,"y":10.1},{"x":1590035400,"y":10},{"x":1590036000,"y":10.1},{"x":1590036600,"y":10.2},{"x":1590037200,"y":10.2},{"x":1590037800,"y":10.2},{"x":1590038400,"y":10.3},{"x":1590039000,"y":10.2},{"x":1590039600,"y":10.4},{"x":1590040200,"y":10.5},{"x":1590040800,"y":10.5},{"x":1590041400,"y":10.4},{"x":1590042000,"y":10.5},{"x":1590042600,"y":10.5},{"x":1590043200,"y":10.5},{"x":1590043800,"y":10.6},{"x":1590044400,"y":10.3},{"x":1590045000,"y":10.3},{"x":1590045600,"y":9.9},{"x":1590046200,"y":9.9},{"x":1590046800,"y":10.2},{"x":1590047400,"y":10.2},{"x":1590048000,"y":10.6},{"x":1590048600,"y":10.8},{"x":1590049200,"y":11.1},{"x":1590049800,"y":11.1},{"x":1590050400,"y":11.3},{"x":1590051000,"y":10.9},{"x":1590051600,"y":10.8},{"x":1590052200,"y":11.1},{"x":1590052800,"y":11.4},{"x":1590053400,"y":11.5},{"x":1590054000,"y":11.7},{"x":1590054600,"y":11.9},{"x":1590055200,"y":12.1},{"x":1590055800,"y":12.3},{"x":1590056400,"y":12.4},{"x":1590057000,"y":12},{"x":1590057600,"y":12},{"x":1590058200,"y":12},{"x":1590058800,"y":12.7},{"x":1590059400,"y":12.6},{"x":1590060000,"y":12.8},{"x":1590060600,"y":12.8},{"x":1590061200,"y":13},{"x":1590061800,"y":12.9},{"x":1590062400,"y":13},{"x":1590063000,"y":13.3},{"x":1590063600,"y":13.4},{"x":1590064200,"y":13.2},{"x":1590064800,"y":13},{"x":1590065400,"y":13.2},{"x":1590066000,"y":13.1},{"x":1590066600,"y":13.3},{"x":1590067200,"y":13.1},{"x":1590067800,"y":13.2},{"x":1590068400,"y":13.3},{"x":1590069000,"y":12.8},{"x":1590069600,"y":13.4},{"x":1590070200,"y":13.2},{"x":1590070800,"y":13.1},{"x":1590071400,"y":13.1},{"x":1590072000,"y":13.2},{"x":1590072600,"y":13.1},{"x":1590073200,"y":12.9},{"x":1590073800,"y":12.9},{"x":1590074400,"y":12.9},{"x":1590075000,"y":12.5},{"x":1590075600,"y":12.5},{"x":1590076200,"y":12.1},{"x":1590076800,"y":12.3},{"x":1590077400,"y":12.1},{"x":1590078000,"y":11.9},{"x":1590078600,"y":11.7},{"x":1590079200,"y":11.6},{"x":1590079800,"y":11.5},{"x":1590080400,"y":11.5},{"x":1590081000,"y":11.2}]}],"controlPoints":{"pre":{"x":1590015600,"y":11.4},"post":null},"controlPoint":null},"xAxisMin":1590019200,"xAxisMax":1590191999},"carousel":{"size":3,"start":3},"units":{"temperature":"c"},"issueDateTime":"2020-05-21 07:10:00","provider":{"id":450,"name":"Rhyll","lat":-38.461,"lng":145.31,"distance":23.8,"units":{"distance":"km"}}}}}';
    else if($area_id == 13838)
      return '{"location":{"id":13838,"name":"Hastings","region":"Mornington Peninsula","state":"VIC","postcode":"3915","timeZone":"Australia\/Melbourne","lat":-38.3077,"lng":145.1905,"typeId":14},"forecasts":{"weather":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 00:00:00","precisCode":"shower-or-two","precis":"Shower or two","precisOverlayCode":"","night":false,"min":8,"max":14}]}],"units":{"temperature":"c"},"issueDateTime":"2020-05-21 16:13:27"},"wind":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 00:00:00","speed":29.9,"direction":350,"directionText":"N"},{"dateTime":"2020-05-21 01:00:00","speed":28.1,"direction":333,"directionText":"NNW"},{"dateTime":"2020-05-21 02:00:00","speed":26.6,"direction":216,"directionText":"SW"},{"dateTime":"2020-05-21 03:00:00","speed":25.2,"direction":182,"directionText":"S"},{"dateTime":"2020-05-21 04:00:00","speed":24.1,"direction":185,"directionText":"S"},{"dateTime":"2020-05-21 05:00:00","speed":30.6,"direction":198,"directionText":"SSW"},{"dateTime":"2020-05-21 06:00:00","speed":25.9,"direction":201,"directionText":"SSW"},{"dateTime":"2020-05-21 07:00:00","speed":34.9,"direction":200,"directionText":"SSW"},{"dateTime":"2020-05-21 08:00:00","speed":16.6,"direction":195,"directionText":"SSW"},{"dateTime":"2020-05-21 09:00:00","speed":31,"direction":197,"directionText":"SSW"},{"dateTime":"2020-05-21 10:00:00","speed":28.8,"direction":196,"directionText":"SSW"},{"dateTime":"2020-05-21 11:00:00","speed":26.6,"direction":198,"directionText":"SSW"},{"dateTime":"2020-05-21 12:00:00","speed":24.1,"direction":203,"directionText":"SSW"},{"dateTime":"2020-05-21 13:00:00","speed":22.3,"direction":203,"directionText":"SSW"},{"dateTime":"2020-05-21 14:00:00","speed":23,"direction":205,"directionText":"SSW"},{"dateTime":"2020-05-21 15:00:00","speed":18.7,"direction":205,"directionText":"SSW"},{"dateTime":"2020-05-21 16:00:00","speed":17.3,"direction":208,"directionText":"SSW"},{"dateTime":"2020-05-21 17:00:00","speed":17.6,"direction":208,"directionText":"SSW"},{"dateTime":"2020-05-21 18:00:00","speed":18.4,"direction":208,"directionText":"SSW"},{"dateTime":"2020-05-21 19:00:00","speed":16.9,"direction":209,"directionText":"SSW"},{"dateTime":"2020-05-21 20:00:00","speed":16.9,"direction":209,"directionText":"SSW"},{"dateTime":"2020-05-21 21:00:00","speed":16.9,"direction":206,"directionText":"SSW"},{"dateTime":"2020-05-21 22:00:00","speed":16.2,"direction":207,"directionText":"SSW"},{"dateTime":"2020-05-21 23:00:00","speed":14.8,"direction":209,"directionText":"SSW"}]}],"units":{"speed":"km\/h"},"issueDateTime":"2020-05-21 15:52:54","carousel":{"size":10,"start":3}},"tides":{"days":[{"dateTime":"2020-05-21 00:00:00","entries":[{"dateTime":"2020-05-21 05:12:00","height":1.01,"type":"low"},{"dateTime":"2020-05-21 12:15:00","height":2.53,"type":"high"},{"dateTime":"2020-05-21 17:54:00","height":1.4,"type":"low"},{"dateTime":"2020-05-21 23:56:00","height":2.42,"type":"high"}]}],"units":{"height":"m"},"issueDateTime":"2020-05-21 17:19:00","carousel":{"size":1826,"start":1237}}},"observationalGraphs":{"pressure":{"dataConfig":{"series":{"config":{"id":"pressure","color":"#003355","lineWidth":2,"lineFill":false,"lineRenderer":"StraightLineRenderer","showPoints":false,"pointFormatter":"PressurePointFormatter"},"yAxisDataMin":1012,"yAxisDataMax":1018.3,"yAxisMin":980,"yAxisMax":1040,"groups":[{"dateTime":1590019200,"points":[{"x":1590019200,"y":1012.1},{"x":1590021000,"y":1012},{"x":1590022800,"y":1012.2},{"x":1590024600,"y":1012.2},{"x":1590026400,"y":1012.3},{"x":1590028200,"y":1012.3},{"x":1590030000,"y":1012.4},{"x":1590031800,"y":1012.2},{"x":1590033600,"y":1012.5},{"x":1590035400,"y":1013},{"x":1590037200,"y":1013.2},{"x":1590039000,"y":1013.5},{"x":1590040800,"y":1014},{"x":1590042600,"y":1014.4},{"x":1590044400,"y":1014.8},{"x":1590046200,"y":1015.3},{"x":1590048000,"y":1015.7},{"x":1590049800,"y":1016.1},{"x":1590051600,"y":1016.5},{"x":1590053400,"y":1016.7},{"x":1590055200,"y":1017},{"x":1590057000,"y":1017.3},{"x":1590058800,"y":1017.5},{"x":1590060600,"y":1017.5},{"x":1590062400,"y":1017.5},{"x":1590064200,"y":1017.4},{"x":1590066000,"y":1017.2},{"x":1590067800,"y":1017.2},{"x":1590069600,"y":1017.3},{"x":1590071400,"y":1017.5},{"x":1590073200,"y":1017.7},{"x":1590075000,"y":1017.6},{"x":1590076800,"y":1017.7},{"x":1590078600,"y":1018.1},{"x":1590080400,"y":1018.3}]}],"controlPoints":{"pre":{"x":1590015600,"y":1012.3},"post":null},"controlPoint":null},"xAxisMin":1590019200,"xAxisMax":1590191999},"carousel":{"size":3,"start":3},"units":{"pressure":"hpa"},"issueDateTime":"2020-05-21 07:00:00","provider":{"id":447,"name":"Cerberus","lat":-38.365,"lng":145.179,"distance":5.9,"units":{"distance":"km"}}},"temperature":{"dataConfig":{"series":{"config":{"id":"temperature","color":"#003355","lineWidth":2,"lineFill":false,"lineRenderer":"StraightLineRenderer","showPoints":false,"pointFormatter":"TemperaturePointFormatter"},"yAxisDataMin":9.7,"yAxisDataMax":13.7,"yAxisMin":0,"yAxisMax":20,"groups":[{"dateTime":1590019200,"points":[{"x":1590019200,"y":9.9},{"x":1590019800,"y":9.9},{"x":1590020400,"y":9.9},{"x":1590021000,"y":10},{"x":1590021600,"y":10},{"x":1590022200,"y":10.1},{"x":1590022800,"y":10.2},{"x":1590023400,"y":10.2},{"x":1590024000,"y":10.3},{"x":1590024600,"y":10.3},{"x":1590025200,"y":10.3},{"x":1590025800,"y":10.3},{"x":1590026400,"y":10.2},{"x":1590027000,"y":10.1},{"x":1590028200,"y":10.1},{"x":1590028800,"y":10.1},{"x":1590029400,"y":10},{"x":1590030000,"y":10.1},{"x":1590030600,"y":10.1},{"x":1590031200,"y":10.1},{"x":1590031800,"y":10.1},{"x":1590032400,"y":10.1},{"x":1590033000,"y":10.5},{"x":1590033600,"y":10.1},{"x":1590034200,"y":10.2},{"x":1590034800,"y":9.9},{"x":1590035400,"y":9.8},{"x":1590036000,"y":9.8},{"x":1590036600,"y":10},{"x":1590037200,"y":10.1},{"x":1590037800,"y":10.1},{"x":1590038400,"y":10.1},{"x":1590039000,"y":10.1},{"x":1590039600,"y":10.2},{"x":1590040200,"y":10.1},{"x":1590040800,"y":9.9},{"x":1590041400,"y":9.9},{"x":1590042000,"y":9.8},{"x":1590042600,"y":9.8},{"x":1590043200,"y":9.8},{"x":1590043800,"y":9.8},{"x":1590044400,"y":9.8},{"x":1590045000,"y":9.7},{"x":1590045600,"y":10.1},{"x":1590046200,"y":10.6},{"x":1590046800,"y":10.8},{"x":1590047400,"y":10.9},{"x":1590048000,"y":11},{"x":1590048600,"y":10.9},{"x":1590049200,"y":11.2},{"x":1590049800,"y":11.4},{"x":1590050400,"y":11.5},{"x":1590051000,"y":11.3},{"x":1590051600,"y":11.4},{"x":1590052200,"y":11.8},{"x":1590052800,"y":12.1},{"x":1590053400,"y":12},{"x":1590054000,"y":12.3},{"x":1590054600,"y":12},{"x":1590055200,"y":12.2},{"x":1590055800,"y":12.2},{"x":1590056400,"y":12.1},{"x":1590057000,"y":12.1},{"x":1590057600,"y":12.1},{"x":1590058200,"y":12.4},{"x":1590058800,"y":12.5},{"x":1590059400,"y":12.8},{"x":1590060000,"y":12.9},{"x":1590060600,"y":12.9},{"x":1590061200,"y":12.9},{"x":1590061800,"y":12.9},{"x":1590062400,"y":12.8},{"x":1590063000,"y":13.2},{"x":1590063600,"y":13},{"x":1590064200,"y":13.2},{"x":1590064800,"y":12.9},{"x":1590065400,"y":12.5},{"x":1590066000,"y":13.1},{"x":1590066600,"y":13},{"x":1590067200,"y":12.8},{"x":1590067800,"y":13},{"x":1590068400,"y":12.4},{"x":1590069000,"y":13.7},{"x":1590069600,"y":13.1},{"x":1590070200,"y":13.3},{"x":1590070800,"y":12.7},{"x":1590071400,"y":12.4},{"x":1590072000,"y":13.3},{"x":1590072600,"y":12.5},{"x":1590073200,"y":11.7},{"x":1590073800,"y":12.5},{"x":1590074400,"y":12.1},{"x":1590075000,"y":12.7},{"x":1590075600,"y":12.2},{"x":1590076200,"y":12.1},{"x":1590076800,"y":11.7},{"x":1590077400,"y":11.8},{"x":1590078000,"y":11.4},{"x":1590078600,"y":11.3},{"x":1590079200,"y":11.5},{"x":1590079800,"y":11.2},{"x":1590080400,"y":11.2},{"x":1590081000,"y":11.3}]}],"controlPoints":{"pre":{"x":1590015600,"y":10.4},"post":null},"controlPoint":null},"xAxisMin":1590019200,"xAxisMax":1590710399},"carousel":{"size":3,"start":3},"units":{"temperature":"c"},"issueDateTime":"2020-05-21 07:10:00","provider":{"id":447,"name":"Cerberus","lat":-38.365,"lng":145.179,"distance":5.9,"units":{"distance":"km"}}}}}';


    $client = new Client([
      'verify' => base_path('cacert.pem'),
    ]);
    $params = '?forecasts=weather,wind,tides&observationalGraphs=pressure,temperature&days=1';

    if($startDate) {
      $params .= '&startDate='.$startDate;
    }
    
    $promise = $client->getAsync('https://api.willyweather.com.au/v2/'.$this->api_key().'/locations/'.$area_id.'/weather.json'.$params);
    $response = $promise->wait();
    return $response->getBody()->getContents();
  }

}